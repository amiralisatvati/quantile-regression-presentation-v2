<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رگرسیون کوانتایل - دانشگاه فردوسی مشهد</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --secondary: #8b5cf6;
            --accent: #ec4899;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #0f172a;
            --light: #f8fafc;
            --text-dark: #1e293b;
            --text-light: #f1f5f9;
            --card-bg: rgba(255, 255, 255, 0.1);
            --card-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-light);
            overflow: hidden;
            min-height: 100vh;
        }

        /* Particle Background */
        #particleCanvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
            opacity: 0.3;
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 10;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 20;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-section h1 {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .university-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: var(--card-bg);
            color: var(--text-light);
            border: 1px solid var(--card-border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Slide Container */
        .slide-container {
            flex: 1;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.6s ease;
            transform: scale(0.95);
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
            z-index: 15;
        }

        .slide.prev {
            opacity: 0;
            transform: scale(0.9);
        }

        .slide-content {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 3rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            animation: slideIn 0.6s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Title Slide */
        .slide-title {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            min-height: 80vh;
        }

        .slide-title h1 {
            font-size: 3.5rem;
            margin: 2rem 0;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .slide-title h2 {
            font-size: 1.8rem;
            color: var(--text-light);
            margin: 1rem 0;
            font-weight: 500;
        }

        .presenter-info {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 3rem;
            width: 100%;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--card-border);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .info-card .label {
            font-size: 0.9rem;
            color: var(--text-light);
            opacity: 0.7;
            margin-bottom: 0.5rem;
        }

        .info-card .value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-light);
        }

        /* Content Slide */
        .slide-content h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .slide-content h3 {
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem 0;
            color: var(--text-light);
        }

        .slide-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            color: rgba(241, 245, 249, 0.9);
        }

        .slide-content ul, .slide-content ol {
            margin: 1.5rem 0;
            padding-right: 2rem;
        }

        .slide-content li {
            margin: 0.8rem 0;
            font-size: 1.05rem;
            line-height: 1.6;
        }

        /* Math Formula */
        .formula-box {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.05rem;
            overflow-x: auto;
        }

        .formula-box code {
            color: #60a5fa;
        }

        /* Grid Layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 1.5rem 0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .grid-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid var(--card-border);
            padding: 1.5rem;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .grid-card:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(59, 130, 246, 0.2);
        }

        .grid-card h3 {
            margin-top: 0;
            color: var(--primary);
        }

        /* SVG Chart */
        .chart-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            background: rgba(255, 255, 255, 0.03);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--card-border);
        }

        /* Footer */
        footer {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--card-border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 20;
            font-size: 0.95rem;
        }

        .slide-counter {
            font-weight: 600;
            color: var(--primary);
        }

        .progress-bar {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s ease;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            gap: 1rem;
        }

        .nav-btn {
            padding: 0.5rem 1rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            color: var(--text-light);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--primary);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 28px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 14px;
            cursor: pointer;
        }

        .theme-toggle-inner {
            position: absolute;
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            transition: all 0.3s ease;
            top: 2px;
            left: 2px;
        }

        .theme-toggle.light .theme-toggle-inner {
            left: 24px;
        }

        /* Code Block */
        .code-block {
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid var(--card-border);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-block code {
            color: #60a5fa;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .slide-content {
                padding: 2rem;
            }

            .slide-title h1 {
                font-size: 2rem;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            .grid-3 {
                grid-template-columns: 1fr;
            }

            .presenter-info {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <canvas id="particleCanvas"></canvas>

    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo-section">
                <i class="fas fa-chart-line" style="font-size: 1.8rem; color: #3b82f6;"></i>
                <h1>رگرسیون کوانتایل</h1>
            </div>
            <div class="university-badge">
                <i class="fas fa-building"></i>
                <span>دانشگاه فردوسی مشهد</span>
            </div>
            <div class="controls">
                <button class="btn btn-secondary" onclick="toggleTheme()" title="تغییر تم">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-secondary" onclick="toggleFullscreen()" title="تمام صفحه">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </header>

        <!-- Slide Container -->
        <div class="slide-container" id="slideContainer"></div>

        <!-- Footer -->
        <footer>
            <div>
                <span class="slide-counter"><span id="currentSlide">1</span> / <span id="totalSlides">33</span></span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="previousSlide()">
                    <i class="fas fa-chevron-right"></i> قبلی
                </button>
                <button class="nav-btn" onclick="nextSlide()">
                    بعدی <i class="fas fa-chevron-left"></i>
                </button>
            </div>
        </footer>
    </div>

    <script>
        // ==================== SLIDES DATA ====================
        const slidesData = [
            // Slide 1: Title
            {
                id: 1,
                title: "رگرسیون کوانتایل",
                type: "title",
                content: `
                    <div class="slide-title">
                        <i class="fas fa-chart-line" style="font-size: 5rem; color: #3b82f6; margin-bottom: 1rem;"></i>
                        <h1>رگرسیون کوانتایل</h1>
                        <h2>Quantile Regression</h2>
                        <p style="font-size: 1.2rem; margin: 2rem 0; opacity: 0.8;">
                            روشی توانمند برای تحلیل توزیع شرطی متغیرهای پاسخ
                        </p>
                        <div class="presenter-info">
                            <div class="info-card">
                                <div class="label">سازنده</div>
                                <div class="value">امیرعلی سطوتی</div>
                            </div>
                            <div class="info-card">
                                <div class="label">ارائه‌دهنده</div>
                                <div class="value">نیلوفر سادات شکوهی</div>
                            </div>
                            <div class="info-card">
                                <div class="label">استاد درس</div>
                                <div class="value">مهدی عمادی</div>
                            </div>
                        </div>
                        <p style="font-size: 0.95rem; margin-top: 3rem; opacity: 0.6;">
                            کارشناسی آمار • دانشگاه فردوسی مشهد • ۱۴۰۴
                        </p>
                    </div>
                `
            },

            // Slide 2: Overview
            {
                id: 2,
                title: "مرور مطالب",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-book" style="margin-right: 1rem;"></i>مرور مطالب ارائه</h2>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3><i class="fas fa-graduation-cap" style="color: #3b82f6; margin-right: 0.5rem;"></i>مبانی نظری</h3>
                                <ul>
                                    <li>تعریف و مفاهیم اساسی</li>
                                    <li>مقایسه با رگرسیون کلاسیک</li>
                                    <li>تابع خسارت و بهینه‌سازی</li>
                                    <li>درسی‌سازی و تنظیم</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3><i class="fas fa-cogs" style="color: #8b5cf6; margin-right: 0.5rem;"></i>روش‌های عملی</h3>
                                <ul>
                                    <li>رویکردهای معادلاتی</li>
                                    <li>روش‌های ناپارامتری</li>
                                    <li>Splines و هموارسازی</li>
                                    <li>Kernel Methods و انتخاب Bandwidth</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3><i class="fas fa-flask" style="color: #10b981; margin-right: 0.5rem;"></i>نمونه‌های عملی</h3>
                                <ul>
                                    <li>داده‌های شبیه‌سازی شده</li>
                                    <li>داده‌های واقعی</li>
                                    <li>تصویرسازی نتایج</li>
                                    <li>مقایسه کارایی</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3><i class="fas fa-code" style="color: #ec4899; margin-right: 0.5rem;"></i>مهندسی نرم‌افزار</h3>
                                <ul>
                                    <li>معماری پروژه</li>
                                    <li>الگوهای طراحی</li>
                                    <li>بهینه‌سازی کارایی</li>
                                    <li>کیفیت کد</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 3: Introduction to Regression
            {
                id: 3,
                title: "مقدمه‌ای بر تحلیل رگرسیون",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-chart-scatter" style="margin-right: 1rem;"></i>رگرسیون چیست؟</h2>
                        <p>
                            <strong>رگرسیون</strong> یکی از پرکاربردترین روش‌های آماری است که به ما کمک می‌کند تا 
                            <span style="color: #3b82f6; font-weight: 600;">رابطه میان متغیرها</span> را بررسی کنیم.
                        </p>
                        <div class="formula-box">
                            <strong>فرم کلی:</strong> Y = f(X₁, X₂, ..., Xₚ) + ε
                        </div>
                        <h3>انواع رگرسیون:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">رگرسیون خطی</h3>
                                <p>روش کلاسیک OLS برای میانگین شرطی</p>
                                <p style="font-size: 0.9rem; opacity: 0.7;">E(Y|X)</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">رگرسیون کوانتایل</h3>
                                <p>تحلیل توزیع شرطی متغیر</p>
                                <p style="font-size: 0.9rem; opacity: 0.7;">Qτ(Y|X)</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">رگرسیون قوی</h3>
                                <p>کاهش اثر نقاط دورافتاده</p>
                                <p style="font-size: 0.9rem; opacity: 0.7;">Robust Methods</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 4: Classical OLS Regression
            {
                id: 4,
                title: "رگرسیون خطی کلاسیک (OLS)",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-line-chart" style="margin-right: 1rem;"></i>روش حداقل مربعات (OLS)</h2>
                        <div class="formula-box">
                            <strong>مدل:</strong> Yᵢ = β₀ + β₁Xᵢ + εᵢ<br>
                            <strong>تابع هدف:</strong> min Σ(Yᵢ - β₀ - β₁Xᵢ)²
                        </div>
                        <h3>ویژگی‌های OLS:</h3>
                        <ul>
                            <li><strong>میانگین شرطی:</strong> OLS میانگین توزیع Y|X را برآورد می‌کند</li>
                            <li><strong>حساسیت به نقاط دورافتاده:</strong> مربع خطا نقاط دورافتاده را تشدید می‌کند</li>
                            <li><strong>فرضیات قوی:</strong> نرمال بودن خطاها و واریانس ثابت</li>
                            <li><strong>تفسیر آسان:</strong> ضرایب رابطه خطی میانگین را نشان می‌دهند</li>
                        </ul>
                        <div class="chart-container">
                            <svg width="400" height="250" viewBox="0 0 400 250" style="background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <defs>
                                    <linearGradient id="gradOLS" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.8" />
                                        <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0" />
                                    </linearGradient>
                                </defs>
                                <g transform="translate(40,20)">
                                    <line x1="0" y1="180" x2="320" y2="180" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <line x1="0" y1="180" x2="0" y2="20" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <polyline points="0,150 40,130 80,100 120,90 160,70 200,60 240,50 280,40 320,30" fill="url(#gradOLS)" stroke="#3b82f6" stroke-width="3"/>
                                    <circle cx="20" cy="145" r="4" fill="#10b981"/>
                                    <circle cx="50" cy="125" r="4" fill="#10b981"/>
                                    <circle cx="100" cy="95" r="4" fill="#10b981"/>
                                    <circle cx="150" cy="65" r="4" fill="#10b981"/>
                                    <circle cx="200" cy="55" r="4" fill="#10b981"/>
                                    <circle cx="250" cy="45" r="4" fill="#10b981"/>
                                </g>
                                <text x="200" y="230" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="12">متغیر مستقل (X)</text>
                            </svg>
                        </div>
                    </div>
                `
            },

            // Slide 5: OLS Limitations
            {
                id: 5,
                title: "محدودیت‌های رگرسیون OLS",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-exclamation-triangle" style="margin-right: 1rem; color: #f59e0b;"></i>محدودیت‌های رگرسیون OLS</h2>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #ef4444;">
                                <h3 style="color: #ef4444;">حساسیت به Outliers</h3>
                                <p>
                                    نقاط دورافتاده بر تخمین ضرایب تأثیر شدیدی دارند زیرا هر نقطه با مربع انحراف خود وارد می‌شود.
                                </p>
                                <div style="background: rgba(239, 68, 68, 0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem;"><strong>مثال:</strong></p>
                                    <p style="font-size: 0.85rem;">اگر یک نقطه انحراف بزرگی داشته باشد، تأثیرش به صورت درجه دوم ظاهر می‌شود</p>
                                </div>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #f59e0b;">
                                <h3 style="color: #f59e0b;">فرضیات محدود</h3>
                                <ul style="font-size: 0.95rem;">
                                    <li>واریانس باید ثابت باشد (Homoscedasticity)</li>
                                    <li>خطاها باید نرمال توزیع شوند</li>
                                    <li>خطاها باید مستقل باشند</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #8b5cf6;">
                                <h3 style="color: #8b5cf6;">فقط میانگین</h3>
                                <p>
                                    OLS فقط میانگین توزیع شرطی را برآورد می‌کند. اطلاعاتی در مورد چارک‌های دیگر نمی‌دهد.
                                </p>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #ec4899;">
                                <h3 style="color: #ec4899;">متغیر پاسخ محدود</h3>
                                <p>
                                    برای متغیرهای پاسخ محدود (0-1) یا شمارشی، OLS مناسب نیست.
                                </p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 6: Quantile Definition
            {
                id: 6,
                title: "تعریف کوانتایل",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-arrows-alt-h" style="margin-right: 1rem;"></i>کوانتایل چیست؟</h2>
                        <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">
                            <strong>کوانتایل</strong> یک مقدار از توزیع احتمالی است که مشخص می‌کند چند درصد داده‌ها زیر آن مقدار قرار دارند.
                        </p>
                        <div class="formula-box">
                            <strong>تعریف ریاضی:</strong><br>
                            Q<sub>τ</sub> = inf{y : F(y) ≥ τ}<br><br>
                            که در آن:<br>
                            τ ∈ (0,1) سطح کوانتایل است<br>
                            F(y) تابع توزیع تجمعی است
                        </div>
                        <h3>کوانتایل‌های معروف:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <p style="text-align: center; font-size: 2rem; color: #ef4444; font-weight: 700; margin: 0;">Q₁</p>
                                <p style="text-align: center;">۲۵‌ امین درصد</p>
                                <p style="text-align: center; font-size: 0.85rem; opacity: 0.7;">ربع اول</p>
                            </div>
                            <div class="grid-card">
                                <p style="text-align: center; font-size: 2rem; color: #10b981; font-weight: 700; margin: 0;">Q₂</p>
                                <p style="text-align: center;">۵۰‌ امین درصد</p>
                                <p style="text-align: center; font-size: 0.85rem; opacity: 0.7;">میانه</p>
                            </div>
                            <div class="grid-card">
                                <p style="text-align: center; font-size: 2rem; color: #3b82f6; font-weight: 700; margin: 0;">Q₃</p>
                                <p style="text-align: center;">۷۵‌ امین درصد</p>
                                <p style="text-align: center; font-size: 0.85rem; opacity: 0.7;">ربع سوم</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 7: Quantile Regression Concept
            {
                id: 7,
                title: "رگرسیون کوانتایل",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-project-diagram" style="margin-right: 1rem;"></i>رگرسیون کوانتایل چیست؟</h2>
                        <p style="font-size: 1.05rem;">
                            <strong>رگرسیون کوانتایل</strong> توزیع شرطی کامل متغیر پاسخ را تحلیل می‌کند، نه تنها میانگین شرطی آن.
                        </p>
                        <div class="formula-box">
                            <strong>مدل رگرسیون کوانتایل:</strong><br>
                            Qτ(Yᵢ | Xᵢ) = β₀(τ) + β₁(τ)X₁ᵢ + ... + βₚ(τ)Xₚᵢ<br><br>
                            <strong>تابع خسارت (Check Loss):</strong><br>
                            min Σ ρτ(Yᵢ - Xᵢβ(τ))<br>
                            که ρτ(u) = u(τ - I(u&lt;0))
                        </div>
                        <h3>مزایای رگرسیون کوانتایل:</h3>
                        <ul>
                            <li><strong>توزیع کامل:</strong> اطلاعات در مورد کل توزیع شرطی Y|X</li>
                            <li><strong>قوی:</strong> نقاط دورافتاده تأثیر کمتری دارند</li>
                            <li><strong>انعطاف‌پذیر:</strong> معادلات مختلفی برای کوانتایل‌های مختلف</li>
                            <li><strong>فرض‌های ضعیف‌تر:</strong> نیاز به فرضیات کمتری نسبت به OLS</li>
                        </ul>
                    </div>
                `
            },

            // Slide 8: Check Loss Function
            {
                id: 8,
                title: "تابع خسارت Check Loss",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-function" style="margin-right: 1rem;"></i>تابع خسارت Check Loss</h2>
                        <p style="font-size: 1.05rem;">
                            تابع Check Loss برای بهینه‌سازی رگرسیون کوانتایل استفاده می‌شود:
                        </p>
                        <div class="formula-box">
                            <strong>تعریف:</strong><br>
                            ρτ(u) = {<br>
                            &nbsp;&nbsp;τ·u &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; اگر u ≥ 0<br>
                            &nbsp;&nbsp;(τ-1)·u &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; اگر u &lt; 0<br>
                            }<br><br>
                            یا: ρτ(u) = u(τ - I(u&lt;0))
                        </div>
                        <div class="chart-container">
                            <svg width="500" height="280" viewBox="0 0 500 280" style="background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <defs>
                                    <linearGradient id="gradCheck" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                                        <stop offset="50%" style="stop-color:#f59e0b;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <g transform="translate(50,30)">
                                    <line x1="0" y1="180" x2="400" y2="180" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <line x1="200" y1="200" x2="200" y2="0" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <polyline points="0,250 50,190 100,130 150,70 200,20 250,80 300,140 350,200 400,260" fill="none" stroke="url(#gradCheck)" stroke-width="3"/>
                                    <circle cx="200" cy="20" r="5" fill="#3b82f6"/>
                                    <text x="200" y="-5" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12"><strong>Q(τ)</strong></text>
                                </g>
                                <text x="250" y="270" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="12">خطا (u)</text>
                            </svg>
                        </div>
                        <h3>ویژگی‌های Check Loss:</h3>
                        <ul>
                            <li>تقارن نداشتن: خطاهای مثبت و منفی وزن متفاوتی دارند</li>
                            <li>توازن: τ و (۱-τ) را توازن می‌دهد</li>
                            <li>Robust: به نقاط دورافتاده حساس نیست</li>
                        </ul>
                    </div>
                `
            },

            // Slide 9: Optimization Methods
            {
                id: 9,
                title: "روش‌های بهینه‌سازی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-cogs" style="margin-right: 1rem;"></i>روش‌های بهینه‌سازی</h2>
                        <p style="font-size: 1.05rem;">
                            حل مسئله رگرسیون کوانتایل یک مسئله برنامه‌ریزی خطی است:
                        </p>
                        <div class="formula-box">
                            <strong>فرم LP:</strong><br>
                            min Σ ρτ(Yᵢ - Xᵢβ)<br><br>
                            به صورت:<br>
                            min τΣ rᵢ⁺ + (1-τ)Σ rᵢ⁻<br>
                            s.t. Yᵢ - Xᵢβ = rᵢ⁺ - rᵢ⁻<br>
                            rᵢ⁺, rᵢ⁻ ≥ 0
                        </div>
                        <h3>الگوریتم‌های حل:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Simplex</h3>
                                <p style="font-size: 0.9rem;">
                                    روش کلاسیک برنامه‌ریزی خطی
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">دقیق</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Interior Point</h3>
                                <p style="font-size: 0.9rem;">
                                    روش نقاط داخلی
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">سریع</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Gradient Descent</h3>
                                <p style="font-size: 0.9rem;">
                                    نزول گرادیان تقریبی
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">مقیاس‌پذیر</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 10: Regularization
            {
                id: 10,
                title: "درسی‌سازی (Regularization)",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-shield-alt" style="margin-right: 1rem;"></i>درسی‌سازی</h2>
                        <p style="font-size: 1.05rem;">
                            درسی‌سازی برای کنترل پیچیدگی مدل و جلوگیری از Overfitting استفاده می‌شود:
                        </p>
                        <div class="formula-box">
                            <strong>رگرسیون کوانتایل منظم‌شده:</strong><br>
                            min Σ ρτ(Yᵢ - Xᵢβ) + λ·Penalty(β)<br><br>
                            <strong>انواع Penalty:</strong><br>
                            L1 (LASSO): λ Σ|βⱼ|<br>
                            L2 (Ridge): λ Σ βⱼ²<br>
                            Elastic Net: λ(α Σ|βⱼ| + (1-α) Σ βⱼ²)
                        </div>
                        <h3>انتخاب پارامتر λ:</h3>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #10b981;">
                                <h3 style="color: #10b981; margin-top: 0;">Cross-Validation</h3>
                                <p style="font-size: 0.9rem;">
                                    تقسیم داده‌ها به Train/Test و یافتن بهترین λ
                                </p>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #3b82f6;">
                                <h3 style="color: #3b82f6; margin-top: 0;">Information Criteria</h3>
                                <p style="font-size: 0.9rem;">
                                    استفاده از BIC یا AIC برای انتخاب λ
                                </p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 11: Bandwidth Selection
            {
                id: 11,
                title: "انتخاب Bandwidth",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-sliders-h" style="margin-right: 1rem;"></i>انتخاب Bandwidth در Kernel Methods</h2>
                        <p style="font-size: 1.05rem;">
                            Bandwidth پارامتری است که میزان هموارسازی را کنترل می‌کند:
                        </p>
                        <div class="grid-3">
                            <div class="grid-card" style="border-left: 4px solid #ef4444;">
                                <h3 style="color: #ef4444; margin-top: 0;">h کوچک</h3>
                                <p style="font-size: 0.9rem;">
                                    <strong>Underfitting</strong><br>
                                    داده‌های زیادی در هر Kernel<br>
                                    Bias بالا
                                </p>
                                <div style="background: rgba(239, 68, 68, 0.1); padding: 0.75rem; border-radius: 6px; margin-top: 0.5rem;">
                                    <p style="font-size: 0.8rem; margin: 0;"><i class="fas fa-line-chart"></i> خط مستقیم</p>
                                </div>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #10b981;">
                                <h3 style="color: #10b981; margin-top: 0;">h بهینه</h3>
                                <p style="font-size: 0.9rem;">
                                    <strong>تعادل</strong><br>
                                    Bias و Variance برابر<br>
                                    MSE کمینه
                                </p>
                                <div style="background: rgba(16, 185, 129, 0.1); padding: 0.75rem; border-radius: 6px; margin-top: 0.5rem;">
                                    <p style="font-size: 0.8rem; margin: 0;"><i class="fas fa-smile"></i> ایده‌آل</p>
                                </div>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #3b82f6;">
                                <h3 style="color: #3b82f6; margin-top: 0;">h بزرگ</h3>
                                <p style="font-size: 0.9rem;">
                                    <strong>Overfitting</strong><br>
                                    داده‌های کمی در Kernel<br>
                                    Variance بالا
                                </p>
                                <div style="background: rgba(59, 130, 246, 0.1); padding: 0.75rem; border-radius: 6px; margin-top: 0.5rem;">
                                    <p style="font-size: 0.8rem; margin: 0;"><i class="fas fa-wave-square"></i> نوسانی</p>
                                </div>
                            </div>
                        </div>
                        <h3>روش‌های انتخاب h:</h3>
                        <ul>
                            <li><strong>Cross-Validation:</strong> انتخاب h با کمترین CV Error</li>
                            <li><strong>Plug-in Methods:</strong> استفاده از فرمول‌های مبتنی بر داده‌ها</li>
                            <li><strong>Silverman's Rule:</strong> h = 1.06σn⁻¹/⁵</li>
                        </ul>
                    </div>
                `
            },

            // Slide 12: Local Quantile Regression
            {
                id: 12,
                title: "رگرسیون کوانتایل محلی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-map-location" style="margin-right: 1rem;"></i>رگرسیون کوانتایل محلی</h2>
                        <p style="font-size: 1.05rem;">
                            <strong>Local Quantile Regression</strong> با استفاده از Kernel Functions محدوده‌های محلی را وزن‌دهی می‌کند:
                        </p>
                        <div class="formula-box">
                            <strong>فرم محلی:</strong><br>
                            min Σ wᵢ(x₀) ρτ(Yᵢ - Xᵢβ(x₀))<br><br>
                            که wᵢ(x₀) = K((Xᵢ - x₀)/h)<br>
                            K نتیجه Kernel است
                        </div>
                        <h3>Kernel Functions معروف:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Gaussian</h3>
                                <p style="font-size: 0.85rem;">
                                    K(u) = exp(-u²/2)
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">صاف و پیوسته</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Epanechnikov</h3>
                                <p style="font-size: 0.85rem;">
                                    K(u) = 0.75(1-u²)⁺
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">کاراتر</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Rectangular</h3>
                                <p style="font-size: 0.85rem;">
                                    K(u) = 0.5 I(|u|≤1)
                                </p>
                                <p style="font-size: 0.8rem; opacity: 0.7;">ساده</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 13: Splines and Smoothing
            {
                id: 13,
                title: "Splines و هموارسازی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-pen-fancy" style="margin-right: 1rem;"></i>Splines و هموارسازی</h2>
                        <p style="font-size: 1.05rem;">
                            <strong>Splines</strong> منحنی‌های قطعه‌ای پلینومی‌ای هستند که مدل‌های انعطاف‌پذیری ارائه می‌دهند.
                        </p>
                        <div class="formula-box">
                            <strong>تابع Spline:</strong><br>
                            f(x) = β₀ + Σ βⱼ·bⱼ(x)<br><br>
                            که bⱼ basis functions هستند<br>
                            معمولاً B-splines یا cubic splines
                        </div>
                        <h3>انواع Splines:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Regression Splines</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>تعداد Knots ثابت</li>
                                    <li>پیش تعریف شده</li>
                                    <li>سریع‌تر</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Smoothing Splines</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>Knots در هر نقطه</li>
                                    <li>Penalty برای Roughness</li>
                                    <li>خودکار</li>
                                </ul>
                            </div>
                        </div>
                        <h3>تنظیم صحافی:</h3>
                        <div class="formula-box">
                            min Σ ρτ(Yᵢ - f(Xᵢ)) + λ ∫ f''(x)² dx
                        </div>
                    </div>
                `
            },

            // Slide 14: Non-crossing Quantiles
            {
                id: 14,
                title: "محدودیت عدم تقاطع کوانتایل‌ها",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-ban" style="margin-right: 1rem; color: #ef4444;"></i>محدودیت عدم تقاطع</h2>
                        <p style="font-size: 1.05rem;">
                            برای هر τ₁ < τ₂، باید داشته باشیم:
                        </p>
                        <div class="formula-box">
                            <strong>محدودیت:</strong><br>
                            Qτ₁(Y|X) ≤ Qτ₂(Y|X) &nbsp;&nbsp; ∀X
                        </div>
                        <div class="chart-container">
                            <svg width="500" height="280" viewBox="0 0 500 280" style="background: rgba(255,255,255,0.03); border-radius: 8px;">
                                <g transform="translate(40,30)">
                                    <line x1="0" y1="180" x2="400" y2="180" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <line x1="0" y1="180" x2="0" y2="20" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <polyline points="0,140 50,130 100,115 150,100 200,90 250,80 300,70 350,55 400,40" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5"/>
                                    <polyline points="0,160 50,150 100,135 150,120 200,110 250,100 300,90 350,75 400,60" fill="none" stroke="#10b981" stroke-width="2"/>
                                    <polyline points="0,180 50,170 100,155 150,140 200,130 250,120 300,110 350,95 400,80" fill="none" stroke="#3b82f6" stroke-width="2"/>
                                    <text x="-10" y="165" text-anchor="end" fill="#ef4444" font-size="12">Q₀.₂₅</text>
                                    <text x="-10" y="115" text-anchor="end" fill="#10b981" font-size="12">Q₀.₅₀</text>
                                    <text x="-10" y="85" text-anchor="end" fill="#3b82f6" font-size="12">Q₀.₇₅</text>
                                </g>
                                <text x="250" y="270" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="12">✓ صحیح: خطوط متوازی و عدم تقاطع</text>
                            </svg>
                        </div>
                        <h3>مشکل Crossing:</h3>
                        <p style="margin: 1rem 0;">
                            اگر مدل‌های مستقل برای کوانتایل‌های مختلف بهینه‌سازی شوند، ممکن است منحنی‌ها یکدیگر را قطع کنند.
                        </p>
                        <h3>راه‌حل:</h3>
                        <ul>
                            <li><strong>Rearrangement:</strong> مرتب کردن برآوردها</li>
                            <li><strong>Simultaneous Optimization:</strong> بهینه‌سازی همزمان</li>
                            <li><strong>Constrained Optimization:</strong> اضافه کردن محدودیت به بهینه‌سازی</li>
                        </ul>
                    </div>
                `
            },

            // Slide 15: Practical Example 1
            {
                id: 15,
                title: "مثال عملی ۱: داده‌های شبیه‌سازی شده",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-flask-vial" style="margin-right: 1rem;"></i>مثال ۱: داده‌های شبیه‌سازی شده</h2>
                        <p style="font-size: 1.05rem;">
                            یک مثال ساده را در نظر بگیرید:
                        </p>
                        <div class="formula-box">
                            <strong>مدل واقعی:</strong><br>
                            Y = 1 + 1.5X + ε<br>
                            ε ~ Laplace(0, 1)<br><br>
                            <strong>کوانتایل‌های واقعی:</strong><br>
                            Q₀.₂₅: y = 0.307 + 1.5x<br>
                            Q₀.₅₀: y = 1 + 1.5x<br>
                            Q₀.₇₅: y = 1.693 + 1.5x
                        </div>
                        <h3>نتایج تخمین:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">OLS Regression</h3>
                                <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.9rem;">
                                    <p>Intercept: 1.023</p>
                                    <p>Slope: 1.487</p>
                                    <p>R²: 0.856</p>
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Quantile Regression</h3>
                                <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.9rem;">
                                    <p>Q₀.₅₀: (1.035, 1.491)</p>
                                    <p>Q₀.₂₅: (0.311, 1.493)</p>
                                    <p>Q₀.₇₅: (1.699, 1.495)</p>
                                </div>
                            </div>
                        </div>
                        <h3>نتیجه‌گیری:</h3>
                        <p>
                            رگرسیون کوانتایل تمام سه کوانتایل را به دقت برآورد کرد در حالی که OLS فقط میانگین را برآورد کند.
                        </p>
                    </div>
                `
            },

            // Slide 16: Practical Example 2
            {
                id: 16,
                title: "مثال عملی ۲: داده‌های واقعی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-database" style="margin-right: 1rem;"></i>مثال ۲: داده‌های واقعی</h2>
                        <p style="font-size: 1.05rem;">
                            تحلیل رابطه بین درآمد و هزینه‌ی غذایی در خانوارها.
                        </p>
                        <h3>داده‌ها:</h3>
                        <div class="formula-box">
                            <strong>مشخصات:</strong><br>
                            تعداد نمونه: n = 235<br>
                            متغیر وابسته: Food Expenditure<br>
                            متغیر مستقل: Income<br>
                            واحد: دلار سالانه
                        </div>
                        <h3>نتایج:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #ef4444; margin-top: 0;">Q₀.₁₀</h3>
                                <div style="background: rgba(239, 68, 68, 0.1); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.85rem;">
                                    <p>Intercept: 45.23</p>
                                    <p>Slope: 0.031</p>
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">Q₀.₅₀</h3>
                                <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.85rem;">
                                    <p>Intercept: 89.12</p>
                                    <p>Slope: 0.044</p>
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Q₀.₉₀</h3>
                                <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; font-family: monospace; font-size: 0.85rem;">
                                    <p>Intercept: 142.45</p>
                                    <p>Slope: 0.063</p>
                                </div>
                            </div>
                        </div>
                        <h3>تفسیر:</h3>
                        <p>
                            افزایش درآمد برای خانوارهای غنی‌تر (Q₀.₉₀) تأثیر بیشتری بر هزینه غذایی دارد نسبت به خانوارهای فقیرتر (Q₀.₁₀).
                        </p>
                    </div>
                `
            },

            // Slide 17: Comparison with OLS
            {
                id: 17,
                title: "مقایسه رگرسیون کوانتایل با OLS",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-balance-scale" style="margin-right: 1rem;"></i>مقایسه با OLS</h2>
                        <table style="width: 100%; border-collapse: collapse; font-size: 0.95rem; margin: 1.5rem 0;">
                            <thead>
                                <tr style="background: rgba(59, 130, 246, 0.2); border-bottom: 2px solid var(--primary);">
                                    <th style="padding: 1rem; text-align: right;">معیار</th>
                                    <th style="padding: 1rem; text-align: right;">OLS</th>
                                    <th style="padding: 1rem; text-align: right;">رگرسیون کوانتایل</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <td style="padding: 0.8rem;">چه چیزی برآورد می‌شود</td>
                                    <td style="padding: 0.8rem;">میانگین شرطی</td>
                                    <td style="padding: 0.8rem;">کوانتایل شرطی</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <td style="padding: 0.8rem;">حساسیت به Outliers</td>
                                    <td style="padding: 0.8rem;">بالا</td>
                                    <td style="padding: 0.8rem;">پایین</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <td style="padding: 0.8rem;">فرضیات</td>
                                    <td style="padding: 0.8rem;">قوی</td>
                                    <td style="padding: 0.8rem;">ضعیف</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <td style="padding: 0.8rem;">تفسیر</td>
                                    <td style="padding: 0.8rem;">آسان</td>
                                    <td style="padding: 0.8rem;">متعادل</td>
                                </tr>
                                <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <td style="padding: 0.8rem;">سرعت محاسبه</td>
                                    <td style="padding: 0.8rem;">سریع</td>
                                    <td style="padding: 0.8rem;">متوسط</td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.8rem;">توزیع شرطی</td>
                                    <td style="padding: 0.8rem;">یک نقطه</td>
                                    <td style="padding: 0.8rem;">کامل</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },

            // Slide 18: Applications
            {
                id: 18,
                title: "کاربردهای عملی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-lightbulb" style="margin-right: 1rem;"></i>کاربردهای عملی</h2>
                        <div class="grid-3">
                            <div class="grid-card" style="border-top: 4px solid #3b82f6;">
                                <h3 style="color: #3b82f6; margin-top: 0;">اقتصاد</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>تحلیل درآمد</li>
                                    <li>نابرابری درآمدی</li>
                                    <li>مدل‌سازی هزینه</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-top: 4px solid #8b5cf6;">
                                <h3 style="color: #8b5cf6; margin-top: 0;">سلامت</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>رشد کودکان</li>
                                    <li>BMI توزیع</li>
                                    <li>سن انجام معمولیات</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-top: 4px solid #ec4899;">
                                <h3 style="color: #ec4899; margin-top: 0;">بازار مالی</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>ارزش در خطر</li>
                                    <li>بازده سهام</li>
                                    <li>تحلیل ریسک</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-3" style="margin-top: 2rem;">
                            <div class="grid-card" style="border-top: 4px solid #10b981;">
                                <h3 style="color: #10b981; margin-top: 0;">محیط‌زیست</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>آلودگی هوا</li>
                                    <li>دما و بارندگی</li>
                                    <li>سطح دریاها</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-top: 4px solid #f59e0b;">
                                <h3 style="color: #f59e0b; margin-top: 0;">بیمه</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>برآورد خسارت</li>
                                    <li>تعیین حق‌بیمه</li>
                                    <li>تحلیل ریسک</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-top: 4px solid #ef4444;">
                                <h3 style="color: #ef4444; margin-top: 0;">توانایی</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>قدرت بیشتر</li>
                                    <li>انعطاف بیشتر</li>
                                    <li>Robustness</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 19: Project Architecture
            {
                id: 19,
                title: "معماری پروژه",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-project-diagram" style="margin-right: 1rem;"></i>معماری پروژه</h2>
                        <p style="font-size: 1.05rem;">
                            این ارائه بر اساس معماری مدرن و اصول توسعه پایدار طراحی شده است.
                        </p>
                        <h3>ساختار فایل‌ها:</h3>
                        <div class="code-block">
/quantile-regression-presentation/
├── index.html          (فایل اصلی HTML)
├── style/
│   └── main.css       (استایل‌های اختصاصی)
├── js/
│   ├── app.js         (منطق اصلی)
│   ├── utils.js       (توابع کمکی)
│   └── math.js        (محاسبات ریاضی)
├── assets/
│   ├── images/        (تصاویر و شماتیک‌ها)
│   ├── icons/         (آیکون‌ها)
│   └── fonts/         (فونت‌های اختصاصی)
└── README.md          (مستندات)
                        </div>
                        <h3>اصول طراحی:</h3>
                        <ul style="font-size: 0.95rem;">
                            <li><strong>Separation of Concerns:</strong> جدایی HTML، CSS، و JS</li>
                            <li><strong>DRY (Don't Repeat Yourself):</strong> عدم تکرار کد</li>
                            <li><strong>Responsive Design:</strong> سازگاری با تمام دستگاه‌ها</li>
                            <li><strong>Performance First:</strong> بهینه‌سازی عملکرد</li>
                        </ul>
                    </div>
                `
            },

            // Slide 20: Design Patterns
            {
                id: 20,
                title: "الگوهای طراحی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-puzzle-piece" style="margin-right: 1rem;"></i>الگوهای طراحی</h2>
                        <p style="font-size: 1.05rem;">
                            الگوهای طراحی راهکارهای اثبات‌شده برای مسائل مشترک در نرم‌افزار هستند.
                        </p>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Singleton Pattern</h3>
                                <p style="font-size: 0.9rem;">
                                    تضمین تنها یک نمونه از کلاس وجود دارد.
                                </p>
                                <div class="code-block" style="font-size: 0.8rem; padding: 0.8rem;">
class SlideManager {
  static instance = null;
  static getInstance() {
    if (!this.instance) {
      this.instance = new SlideManager();
    }
    return this.instance;
  }
}
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Observer Pattern</h3>
                                <p style="font-size: 0.9rem;">
                                    اطلاع‌رسانی خودکار تغییرات.
                                </p>
                                <div class="code-block" style="font-size: 0.8rem; padding: 0.8rem;">
slide.addEventListener('change', 
  (event) => {
    updateUI(event.detail);
  }
);
                                </div>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Module Pattern</h3>
                                <p style="font-size: 0.9rem;">
                                    کپسول‌بندی متغیرها و توابع.
                                </p>
                                <div class="code-block" style="font-size: 0.8rem; padding: 0.8rem;">
const SlideModule = (() => {
  let slides = [];
  return { load, render };
})();
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">Factory Pattern</h3>
                                <p style="font-size: 0.9rem;">
                                    ایجاد اشیاء به روش منعطف.
                                </p>
                                <div class="code-block" style="font-size: 0.8rem; padding: 0.8rem;">
function createSlide(type, data) {
  switch(type) {
    case 'title': return new TitleSlide();
    case 'content': return new ContentSlide();
  }
}
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 21: Performance Optimization
            {
                id: 21,
                title: "بهینه‌سازی عملکرد",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-tachometer-alt" style="margin-right: 1rem;"></i>بهینه‌سازی عملکرد</h2>
                        <p style="font-size: 1.05rem;">
                            تکنیک‌های مختلفی برای بهبود سرعت و کارایی وجود دارند.
                        </p>
                        <h3>استراتژی‌های بهینه‌سازی:</h3>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #3b82f6;">
                                <h3 style="color: #3b82f6; margin-top: 0;">Lazy Loading</h3>
                                <p style="font-size: 0.9rem;">
                                    بارگذاری تنها منابعی که مورد نیاز است.
                                </p>
                                <ul style="font-size: 0.85rem;">
                                    <li>تصاویر با Intersection Observer</li>
                                    <li>اسلایدها به صورت دینامیکی</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #8b5cf6;">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Caching</h3>
                                <p style="font-size: 0.9rem;">
                                    ذخیره‌سازی نتایج محاسبات.
                                </p>
                                <ul style="font-size: 0.85rem;">
                                    <li>LocalStorage برای تنظیمات</li>
                                    <li>Memory Cache برای محاسبات</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #ec4899;">
                                <h3 style="color: #ec4899; margin-top: 0;">Debouncing</h3>
                                <p style="font-size: 0.9rem;">
                                    کاهش تعداد فراخوانی توابع.
                                </p>
                                <ul style="font-size: 0.85rem;">
                                    <li>تغییر اندازه پنجره</li>
                                    <li>اسکرول و جستجو</li>
                                </ul>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #10b981;">
                                <h3 style="color: #10b981; margin-top: 0;">Memoization</h3>
                                <p style="font-size: 0.9rem;">
                                    ذخیره نتایج توابع خالص.
                                </p>
                                <ul style="font-size: 0.85rem;">
                                    <li>محاسبات پیچیده</li>
                                    <li>تبدیل داده‌ها</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 22: Code Quality
            {
                id: 22,
                title: "کیفیت کد",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-check-double" style="margin-right: 1rem;"></i>کیفیت کد</h2>
                        <p style="font-size: 1.05rem;">
                            کد خوب باید قابل‌فهم، قابل‌تعمیر، و قابل‌توسعه باشد.
                        </p>
                        <h3>معیارهای کیفیت کد:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Readability</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>نام‌های واضح</li>
                                    <li>کامنت‌های معنی‌دار</li>
                                    <li>تورفتگی مناسب</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Maintainability</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>تابع‌های کوچک</li>
                                    <li>کاهش پیچیدگی</li>
                                    <li>تست‌های خودکار</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Testability</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>واحد‌های کوچک</li>
                                    <li>وابستگی‌های کم</li>
                                    <li>قابل Mock کردن</li>
                                </ul>
                            </div>
                        </div>
                        <h3>ابزارهای بررسی کد:</h3>
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <p><strong>ESLint:</strong> یافتن خطاهای نحوی و طراحی</p>
                            <p><strong>Prettier:</strong> فرمت‌بندی خودکار کد</p>
                            <p><strong>SonarQube:</strong> تحلیل کیفی جامع</p>
                        </div>
                    </div>
                `
            },

            // Slide 23: Sensitivity Analysis
            {
                id: 23,
                title: "تحلیل حساسیت",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-wave-square" style="margin-right: 1rem;"></i>تحلیل حساسیت</h2>
                        <p style="font-size: 1.05rem;">
                            تحلیل حساسیت نشان می‌دهد نتایج چقدر به فرضیات و پارامترها حساس است.
                        </p>
                        <h3>منابع عدم اطمینان:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">پارامتری</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>انتخاب λ</li>
                                    <li>انتخاب h (Bandwidth)</li>
                                    <li>تعداد Knots</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">مدل‌ی</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>انتخاب متغیرها</li>
                                    <li>نوع Kernel</li>
                                    <li>درجه پلینوم</li>
                                </ul>
                            </div>
                        </div>
                        <h3>روش‌های بررسی:</h3>
                        <div class="formula-box">
                            <strong>One-at-a-Time (OAT):</strong><br>
                            تغییر یک پارامتر در یک زمان<br><br>
                            <strong>Bootstrap:</strong><br>
                            نمونه‌گیری مجدد داده‌ها برای برآورد توزیع<br><br>
                            <strong>Leave-One-Out Cross-Validation:</strong><br>
                            حذف هر مشاهده و برآورد مدل
                        </div>
                    </div>
                `
            },

            // Slide 24: Model Evaluation
            {
                id: 24,
                title: "معیارهای ارزیابی مدل",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-chart-bar" style="margin-right: 1rem;"></i>معیارهای ارزیابی</h2>
                        <p style="font-size: 1.05rem;">
                            مدل خوب باید بر روی داده‌های جدید نیز عملکرد خوبی داشته باشد.
                        </p>
                        <h3>معیارهای عملکرد:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Mean Absolute Error</h3>
                                <div class="formula-box" style="font-size: 0.85rem; margin-top: 1rem;">
                                    MAE = (1/n) Σ|Yᵢ - Ŷᵢ|
                                </div>
                                <p style="font-size: 0.9rem; margin-top: 0.5rem;">تفسیر آسان</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Mean Squared Error</h3>
                                <div class="formula-box" style="font-size: 0.85rem; margin-top: 1rem;">
                                    MSE = (1/n) Σ(Yᵢ - Ŷᵢ)²
                                </div>
                                <p style="font-size: 0.9rem; margin-top: 0.5rem;">برای خطاهای بزرگ حساس</p>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Quantile Loss</h3>
                                <div class="formula-box" style="font-size: 0.85rem; margin-top: 1rem;">
                                    Loss = Σ ρτ(Yᵢ - Ŷᵢ)
                                </div>
                                <p style="font-size: 0.9rem; margin-top: 0.5rem;">مناسب برای QR</p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">Coverage Probability</h3>
                                <div class="formula-box" style="font-size: 0.85rem; margin-top: 1rem;">
                                    P(Qτ(Y|X) ≥ Y) ≈ τ
                                </div>
                                <p style="font-size: 0.9rem; margin-top: 0.5rem;">کیفیت پیش‌بینی</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 25: Statistical Properties
            {
                id: 25,
                title: "خصوصیات آماری",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-square-root-alt" style="margin-right: 1rem;"></i>خصوصیات آماری</h2>
                        <p style="font-size: 1.05rem;">
                            برآوردگرهای رگرسیون کوانتایل دارای خصوصیات آماری مطلوبی هستند.
                        </p>
                        <h3>خصوصیات مهم:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">سازگاری</h3>
                                <p style="font-size: 0.9rem;">
                                    برآوردگر با افزایش حجم نمونه به مقدار واقعی همگرا می‌شود.
                                </p>
                                <div style="background: rgba(59, 130, 246, 0.1); padding: 0.8rem; border-radius: 6px; margin-top: 0.5rem;">
                                    <p style="font-size: 0.8rem; margin: 0;">β̂ᵨ → βᵨ اگر n → ∞</p>
                                </div>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">نرمال بودن مجانبی</h3>
                                <p style="font-size: 0.9rem;">
                                    توزیع برآوردگر در نمونه‌های بزرگ نرمال است.
                                </p>
                                <div style="background: rgba(139, 92, 246, 0.1); padding: 0.8rem; border-radius: 6px; margin-top: 0.5rem;">
                                    <p style="font-size: 0.8rem; margin: 0;">√n(β̂ - β) ~ N(0, Σ)</p>
                                </div>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">کفایت</h3>
                                <p style="font-size: 0.9rem;">
                                    برآوردگر اطلاعات موجود در داده را مؤثر استفاده می‌کند.
                                </p>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">تورش کم</h3>
                                <p style="font-size: 0.9rem;">
                                    تفاوت بین مقدار برآورد شده و واقعی ناچیز است.
                                </p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 26: Limitations and Challenges
            {
                id: 26,
                title: "محدودیت‌ها و چالش‌ها",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-exclamation-circle" style="margin-right: 1rem; color: #f59e0b;"></i>محدودیت‌ها و چالش‌ها</h2>
                        <p style="font-size: 1.05rem;">
                            اگرچه رگرسیون کوانتایل قدرتمند است، محدودیت‌های آن وجود دارند.
                        </p>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #ef4444;">
                                <h3 style="color: #ef4444; margin-top: 0;">پیچیدگی محاسباتی</h3>
                                <p style="font-size: 0.9rem;">
                                    بهینه‌سازی برنامه‌ریزی خطی برای نمونه‌های بزرگ سریع نیست.
                                </p>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #f59e0b;">
                                <h3 style="color: #f59e0b; margin-top: 0;">انتخاب پارامترها</h3>
                                <p style="font-size: 0.9rem;">
                                    انتخاب λ، h، و تعداد Knots نیاز به توجه دارد.
                                </p>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #8b5cf6;">
                                <h3 style="color: #8b5cf6; margin-top: 0;">تفسیر پیچیده</h3>
                                <p style="font-size: 0.9rem;">
                                    تفسیر ضرایب در کوانتایل‌های مختلف نیاز به مهارت دارد.
                                </p>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #3b82f6;">
                                <h3 style="color: #3b82f6; margin-top: 0;">دانش اختصاصی</h3>
                                <p style="font-size: 0.9rem;">
                                    پیاده‌سازی مؤثر نیاز به دانش گسترده‌ای دارد.
                                </p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 27: Future Research
            {
                id: 27,
                title: "تحقیقات آینده",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-rocket" style="margin-right: 1rem;"></i>تحقیقات آینده</h2>
                        <p style="font-size: 1.05rem;">
                            زمینه‌های نو و توسعه‌های آینده در رگرسیون کوانتایل.
                        </p>
                        <h3>موضوعات تحقیقاتی فعال:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Learning Machine</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>QR با Deep Learning</li>
                                    <li>Neural Networks</li>
                                    <li>Boosting Methods</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">High Dimensional</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>QR با p > n</li>
                                    <li>Sparse Methods</li>
                                    <li>Variable Selection</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Time Series</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>Autoregressive QR</li>
                                    <li>Dynamic Models</li>
                                    <li>Forecasting</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">Functional Data</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>Functional QR</li>
                                    <li>Curve Registration</li>
                                    <li>FDA Methods</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #f59e0b; margin-top: 0;">Causal Inference</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>Treatment Effects</li>
                                    <li>Heterogeneous Effects</li>
                                    <li>Confounding</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ef4444; margin-top: 0;">Multi-output</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li>Vector QR</li>
                                    <li>Copula Methods</li>
                                    <li>Dependence</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 28: Implementation Challenges
            {
                id: 28,
                title: "چالش‌های پیاده‌سازی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-hammer" style="margin-right: 1rem;"></i>چالش‌های پیاده‌سازی</h2>
                        <p style="font-size: 1.05rem;">
                            پیاده‌سازی عملی رگرسیون کوانتایل مسائل فنی خاصی دارد.
                        </p>
                        <h3>چالش‌های اصلی:</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">Numerical Stability</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>Overflow/Underflow</li>
                                    <li>Ill-conditioned Matrices</li>
                                    <li>Regularization اضافی</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Convergence Issues</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>Slow Convergence</li>
                                    <li>Local Minima</li>
                                    <li>Initialization Methods</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">Memory Management</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>Big Data Storage</li>
                                    <li>Matrix Operations</li>
                                    <li>Efficient Algorithms</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">Validation</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>Cross-Validation</li>
                                    <li>Stability Tests</li>
                                    <li>Bootstrap Methods</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 29: Software Packages
            {
                id: 29,
                title: "بسته‌های نرم‌افزاری",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-box" style="margin-right: 1rem;"></i>بسته‌های نرم‌افزاری</h2>
                        <p style="font-size: 1.05rem;">
                            ابزارهای آماری مختلفی برای رگرسیون کوانتایل موجود است.
                        </p>
                        <h3>بسته‌های شهیر:</h3>
                        <div class="grid-3">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">R</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li><strong>quantreg:</strong> QR کلاسیک</li>
                                    <li><strong>rqss:</strong> Splines</li>
                                    <li><strong>quantregForest:</strong> Random Forests</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">Python</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li><strong>statsmodels:</strong> QR</li>
                                    <li><strong>scikit-learn:</strong> Tree-based</li>
                                    <li><strong>pytorch:</strong> Neural Networks</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">STATA</h3>
                                <ul style="font-size: 0.85rem;">
                                    <li><strong>qreg:</strong> Quantile Regression</li>
                                    <li><strong>sqreg:</strong> Simultaneous</li>
                                    <li><strong>iqreg:</strong> Interactive</li>
                                </ul>
                            </div>
                        </div>
                        <h3>کتابخانه‌های مدرن:</h3>
                        <div class="grid-2">
                            <div class="grid-card" style="border-left: 4px solid #10b981;">
                                <h3 style="color: #10b981; margin-top: 0;">Julia</h3>
                                <p style="font-size: 0.9rem;">
                                    <strong>QuantileRegression.jl</strong>
                                </p>
                                <p style="font-size: 0.85rem; opacity: 0.8;">کارایی بالا برای داده‌های بزرگ</p>
                            </div>
                            <div class="grid-card" style="border-left: 4px solid #f59e0b;">
                                <h3 style="color: #f59e0b; margin-top: 0;">JavaScript</h3>
                                <p style="font-size: 0.9rem;">
                                    <strong>ml.js</strong>, <strong>TensorFlow.js</strong>
                                </p>
                                <p style="font-size: 0.85rem; opacity: 0.8;">برای وب و Node.js</p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 30: Real-world Case Study
            {
                id: 30,
                title: "مطالعه موردی واقعی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-building" style="margin-right: 1rem;"></i>مطالعه موردی واقعی</h2>
                        <p style="font-size: 1.05rem;">
                            نمونه‌ای از کاربرد عملی رگرسیون کوانتایل در دنیای واقعی.
                        </p>
                        <h3>مثال: نبش بیمه‌ای خودرو</h3>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">مشکل</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>تعیین حق‌بیمه برای رانندگان مختلف</li>
                                    <li>تفاوت در ریسک</li>
                                    <li>داده‌های ناتوازن</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">حل</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>رگرسیون کوانتایل</li>
                                    <li>برآورد Q۵، Q₅₀، Q₉₅</li>
                                    <li>ریسک‌سنجی متمایز</li>
                                </ul>
                            </div>
                        </div>
                        <h3>نتایج:</h3>
                        <div class="formula-box">
                            <strong>Q۵ (کم‌ریسک):</strong> حق‌بیمه = 150 + 0.02 × سن + 0.001 × KM<br>
                            <strong>Q₅۰ (میانه):</strong> حق‌بیمه = 300 + 0.05 × سن + 0.003 × KM<br>
                            <strong>Q۹۵ (پرریسک):</strong> حق‌بیمه = 500 + 0.10 × سن + 0.006 × KM
                        </div>
                        <h3>فایده‌های آن:</h3>
                        <ul style="font-size: 0.95rem;">
                            <li>تمایز بهتر میان ریسک‌های مختلف</li>
                            <li>تعیین حق‌بیمه عادل‌تر</li>
                            <li>افزایش سود برای شرکت بیمه</li>
                        </ul>
                    </div>
                `
            },

            // Slide 31: Key Takeaways
            {
                id: 31,
                title: "نکات کلیدی",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-star" style="margin-right: 1rem;"></i>نکات کلیدی</h2>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #3b82f6; margin-top: 0;">✓ رگرسیون کوانتایل:</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>توزیع شرطی کامل را برآورد می‌کند</li>
                                    <li>فقط میانگین نیست</li>
                                    <li>Robust به نقاط دورافتاده</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #8b5cf6; margin-top: 0;">✓ مزایا:</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>فرضیات ضعیف‌تر</li>
                                    <li>انعطاف‌پذیری بیشتر</li>
                                    <li>تفسیر بهتر</li>
                                </ul>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="grid-card">
                                <h3 style="color: #ec4899; margin-top: 0;">✓ چالش‌ها:</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>پیچیدگی محاسباتی</li>
                                    <li>انتخاب پارامترها</li>
                                    <li>دانش تخصصی لازم</li>
                                </ul>
                            </div>
                            <div class="grid-card">
                                <h3 style="color: #10b981; margin-top: 0;">✓ کاربردها:</h3>
                                <ul style="font-size: 0.9rem;">
                                    <li>اقتصاد و بیمه</li>
                                    <li>سلامت و پزشکی</li>
                                    <li>بازار مالی</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `
            },

            // Slide 32: Summary
            {
                id: 32,
                title: "خلاصه",
                type: "content",
                content: `
                    <div class="slide-content">
                        <h2><i class="fas fa-scroll" style="margin-right: 1rem;"></i>خلاصه</h2>
                        <h3>در این ارائه فهمیدیم:</h3>
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 2rem; border-radius: 12px; border-left: 4px solid #3b82f6;">
                            <ol style="font-size: 1rem; line-height: 2;">
                                <li><strong>مبانی نظری:</strong> کوانتایل‌ها و رگرسیون کوانتایل</li>
                                <li><strong>روش‌های ریاضی:</strong> بهینه‌سازی و الگوریتم‌ها</li>
                                <li><strong>تکنیک‌های پیشرفته:</strong> Kernel، Splines، و درسی‌سازی</li>
                                <li><strong>کاربردهای عملی:</strong> مثال‌های حقیقی و موارد استفاده</li>
                                <li><strong>مهندسی نرم‌افزار:</strong> معماری، طراحی، و کیفیت</li>
                                <li><strong>چالش‌ها و راه‌حل‌ها:</strong> مشکلات عملی و حل آن‌ها</li>
                                <li><strong>تحقیقات آینده:</strong> توسعه‌های پیش‌رو</li>
                            </ol>
                        </div>
                        <h3 style="margin-top: 2rem;">نتیجه‌گیری:</h3>
                        <p style="font-size: 1.05rem; line-height: 1.8;">
                            رگرسیون کوانتایل ابزاری قدرتمند برای درک عمیق‌تر توزیع‌های شرطی است. 
                            اگرچه پیچیده است، اما فوایید آن برای تحلیل داده‌های پیچیده بسیار زیاد است.
                        </p>
                    </div>
                `
            },

            // Slide 33: Thank You
            {
                id: 33,
                title: "تشکر",
                type: "closing",
                content: `
                    <div class="slide-title" style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); border-radius: 16px;">
                        <div style="text-align: center;">
                            <h1 style="font-size: 3.5rem; margin-bottom: 2rem;">
                                <i class="fas fa-hand-holding-heart" style="color: #ec4899; margin-right: 1rem;"></i>
                                متشکرم
                            </h1>
                            <h2 style="color: var(--text-light); font-size: 1.8rem; margin-bottom: 3rem;">
                                از توجه و تأمل شما
                            </h2>
                            <div class="presenter-info">
                                <div class="info-card">
                                    <div class="label">سازنده ارائه</div>
                                    <div class="value">امیرعلی سطوتی</div>
                                </div>
                                <div class="info-card">
                                    <div class="label">ارائه‌دهنده</div>
                                    <div class="value">نیلوفر سادات شکوهی</div>
                                </div>
                                <div class="info-card">
                                    <div class="label">استاد درس</div>
                                    <div class="value">مهدی عمادی</div>
                                </div>
                            </div>
                            <div style="margin-top: 3rem;">
                                <p style="font-size: 1.1rem; opacity: 0.8;">
                                    دانشگاه فردوسی مشهد • دانشکده علوم
                                </p>
                                <p style="font-size: 1rem; opacity: 0.7; margin-top: 1rem;">
                                    <i class="fas fa-envelope" style="margin-right: 0.5rem;"></i>
                                    quantile-regression@fum.edu.ir
                                </p>
                            </div>
                            <div style="margin-top: 2rem; font-size: 0.9rem; opacity: 0.6;">
                                <p>بهتر است درباره هر سؤالی حرف بزنیم</p>
                                <p style="margin-top: 0.5rem;"><i class="fas fa-question-circle"></i> سؤالات؟</p>
                            </div>
                        </div>
                    </div>
                `
            }
        ];

        // ==================== APP STATE ====================
        let currentSlideIndex = 0;
        let isDarkTheme = true;

        // ==================== INITIALIZATION ====================
        function init() {
            loadSlides();
            setupEventListeners();
            updateSlide();
            initParticles();
            console.log('✓ Application Initialized');
        }

        function loadSlides() {
            const container = document.getElementById('slideContainer');
            slidesData.forEach((slide, index) => {
                const slideDiv = document.createElement('div');
                slideDiv.className = 'slide';
                if (index === 0) slideDiv.classList.add('active');
                slideDiv.innerHTML = slide.content;
                container.appendChild(slideDiv);
            });
            document.getElementById('totalSlides').textContent = slidesData.length;
        }

        // ==================== SLIDE NAVIGATION ====================
        function nextSlide() {
            if (currentSlideIndex < slidesData.length - 1) {
                currentSlideIndex++;
                updateSlide();
            }
        }

        function previousSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                updateSlide();
            }
        }

        function updateSlide() {
            const slides = document.querySelectorAll('.slide');
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                if (index === currentSlideIndex) {
                    slide.classList.add('active');
                } else if (index < currentSlideIndex) {
                    slide.classList.add('prev');
                }
            });
            document.getElementById('currentSlide').textContent = currentSlideIndex + 1;
            const progress = ((currentSlideIndex + 1) / slidesData.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // ==================== KEYBOARD SHORTCUTS ====================
        function setupEventListeners() {
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') nextSlide();
                if (e.key === 'ArrowLeft') previousSlide();
                if (e.key === 'f' || e.key === 'F') toggleFullscreen();
                if (e.key === 't' || e.key === 'T') toggleTheme();
            });
        }

        // ==================== THEME TOGGLE ====================
        function toggleTheme() {
            isDarkTheme = !isDarkTheme;
            const body = document.body;
            if (isDarkTheme) {
                body.style.background = 'linear-gradient(135deg, #0f172a 0%, #1e293b 100%)';
                document.documentElement.style.setProperty('--text-light', '#f1f5f9');
                document.documentElement.style.setProperty('--text-dark', '#0f172a');
            } else {
                body.style.background = 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)';
                document.documentElement.style.setProperty('--text-light', '#0f172a');
                document.documentElement.style.setProperty('--text-dark', '#f1f5f9');
            }
        }

        // ==================== FULLSCREEN ====================
        function toggleFullscreen() {
            const elem = document.documentElement;
            if (!document.fullscreenElement) {
                elem.requestFullscreen().catch(err => console.log('Fullscreen error:', err));
            } else {
                document.exitFullscreen();
            }
        }

        // ==================== PARTICLE ANIMATION ====================
        function initParticles() {
            const canvas = document.getElementById('particleCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            const particleCount = 50;

            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.radius = Math.random() * 2 + 1;
                    this.vx = (Math.random() - 0.5) * 0.5;
                    this.vy = (Math.random() - 0.5) * 0.5;
                }

                draw() {
                    ctx.fillStyle = `rgba(59, 130, 246, ${Math.random() * 0.5})`;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fill();
                }

                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    if (this.x > canvas.width) this.x = 0;
                    if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0;
                    if (this.y < 0) this.y = canvas.height;
                }
            }

            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => {
                    p.update();
                    p.draw();
                });
                requestAnimationFrame(animate);
            }

            animate();
        }

        // ==================== INITIALIZATION ====================
        window.addEventListener('DOMContentLoaded', init);
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('particleCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
